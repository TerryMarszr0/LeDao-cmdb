!function(M,S,x){"use strict";var v="ht",T=M[v],K=null,D=Math,i=D.PI,z=D.cos,q=D.sin,k=D.abs,s=D.max,U=D.sqrt,a=1e-5,N=T.Default,X=N.def,r=N.startAnim,O=N.createMatrix,t=N.transformVec,P=N.getInternal(),F=P.addMethod,u=P.superCall,I=P.toPointsArray,W=P.createNormals,V=P.toFloatArray,y=P.glMV,e=P.batchShape,_=P.createNodeMatrix,Q=P.getFaceInfo,j=P.transformAppend,H=P.drawFaceInfo,C=P.createAnim,g=P.cube(),Z=g.is,A=g.vs,Y=g.uv,n=P.ui(),J=T.Node,l=T.Shape,m="h",c="v",R="front",p="back",b="left",d="right",G="top",o="bottom",w="dw.expanded",E=".expanded",B="dw.angle",h=".angle",f=function(f,A,o){X(v+"."+f,A,o)},L=function(b,r,X){X?b.push(r.x,r.y):b.push(r.x,r.y,r.z)},$=[1,0,0],Dk=function(L,f,d,F){var c,A,M,n,P=0,S=[];if(F)for(c=F.length;c>P;P+=3)A=F[P],M=F[P+1],n=F[P+2],S.push(new Sq([new ur([f[3*A],f[3*A+1],f[3*A+2]],$,d?[d[2*A],d[2*A+1],0]:K),new ur([f[3*M],f[3*M+1],f[3*M+2]],$,d?[d[2*M],d[2*M+1],0]:K),new ur([f[3*n],f[3*n+1],f[3*n+2]],$,d?[d[2*n],d[2*n+1],0]:K)],L));else for(c=f.length;c>P;P+=3)A=P,M=P+1,n=P+2,S.push(new Sq([new ur([f[3*A],f[3*A+1],f[3*A+2]],$,d?[d[2*A],d[2*A+1],0]:K),new ur([f[3*M],f[3*M+1],f[3*M+2]],$,d?[d[2*M],d[2*M+1],0]:K),new ur([f[3*n],f[3*n+1],f[3*n+2]],$,d?[d[2*n],d[2*n+1],0]:K)],L));return S},is=[b,R,d,p,G,o],ud=is.concat("csg"),Mg=[0,6,12,18,24,30],sd=function(P,s,J){for(var q=_(P),D=[],W=0;6>W;W++)for(var h=is[W],E=Mg[W],Q=J?s.getFaceUv(P,h):K,r=J?s.getFaceUvScale(P,h):K,n=J?s.getFaceUvOffset(P,h):K,H=0;2>H;H++){var e,j,p,S=Z[E+3*H],g=Z[E+3*H+1],O=Z[E+3*H+2];if(J){if(Q){var o=8*W;e=[Q[2*S-o],Q[2*S+1-o],0],j=[Q[2*g-o],Q[2*g+1-o],0],p=[Q[2*O-o],Q[2*O+1-o],0]}else e=[Y[2*S],Y[2*S+1],0],j=[Y[2*g],Y[2*g+1],0],p=[Y[2*O],Y[2*O+1],0];r&&(e[0]*=r[0],e[1]*=r[1],j[0]*=r[0],j[1]*=r[1],p[0]*=r[0],p[1]*=r[1]),n&&(e[0]+=n[0],e[1]+=n[1],j[0]+=n[0],j[1]+=n[1],p[0]+=n[0],p[1]+=n[1])}D.push(new Sq([new ur(t([A[3*S],A[3*S+1],A[3*S+2]],q),$,e),new ur(t([A[3*g],A[3*g+1],A[3*g+2]],q),$,j),new ur(t([A[3*O],A[3*O+1],A[3*O+2]],q),$,p)],P))}return eh.$15n(D)},Xq=function(U,h){var Q,A=U.data.getAttaches();if(A&&A.each(function(g){g instanceof jn&&g.s("attach.operation")&&(Q||(Q=[]),Q.push(g))}),Q){var q;is.forEach(function(o){var R=Dk(o,U[o].vs,U[o].tuv);q=q?q.concat(R):R}),q=eh.$15n(q),Q.forEach(function(v){var M=v.s("attach.operation");q[M]&&(q=q[M](sd(v,U.gv,U.csg.tuv)))}),is.forEach(function(F){F=U[F],F.vs=[],F.tuv&&(F.tuv=[])}),q.$19n().forEach(function(y){var $=y.$10n;if($ instanceof jn){if($.s("attach.cull"))return;$="csg"}for(var i=U[$],e=i.vs,z=i.tuv,t=y.$9n,g=2;g<t.length;g++)L(e,t[0].$24n),L(e,t[g-1].$24n),L(e,t[g].$24n),z&&(L(z,t[0].uv,!0),L(z,t[g-1].uv,!0),L(z,t[g].uv,!0))})}ud.forEach(function(I){var E=U[I];E.visible&&E.vs.length?(E.ns=W(E.vs),V(E,"vs"),V(E,"tuv")):delete U[I]}),h&&(e(U,K,h),U.clear())};F(N,{createFrameModel:function(O,o,B,q){O=O==K?.07:O,o=o==K?O:o,B=B==K?O:B,q=q?q:{};var C=q.top,z=q.bottom,p=q.left,u=q.right,s=q.front,m=q.back,T=[],N=[];return s===!0?(T.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),N.push(0,0,0,1,1,1,1,1,1,0,0,0)):s===!1||(T.push(-.5,.5,.5,-.5,-.5,.5,-.5+O,-.5,.5,-.5+O,-.5,.5,-.5+O,.5,.5,-.5,.5,.5,.5-O,.5,.5,.5-O,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-O,.5,.5,-.5+O,.5,.5,-.5+O,.5-o,.5,.5-O,.5-o,.5,.5-O,.5-o,.5,.5-O,.5,.5,-.5+O,.5,.5,-.5+O,-.5+o,.5,-.5+O,-.5,.5,.5-O,-.5,.5,.5-O,-.5,.5,.5-O,-.5+o,.5,-.5+O,-.5+o,.5),N.push(0,0,0,1,O,1,O,1,O,0,0,0,1-O,0,1-O,1,1,1,1,1,1,0,1-O,0,O,0,O,o,1-O,o,1-O,o,1-O,0,O,0,O,1-o,O,1,1-O,1,1-O,1,1-O,1-o,O,1-o)),m===!0?(T.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),N.push(1,0,0,1,1,1,0,1,1,0,0,0)):m===!1||(T.push(-.5,.5,-.5,-.5+O,-.5,-.5,-.5,-.5,-.5,-.5+O,-.5,-.5,-.5,.5,-.5,-.5+O,.5,-.5,.5-O,.5,-.5,.5,-.5,-.5,.5-O,-.5,-.5,.5,-.5,-.5,.5-O,.5,-.5,.5,.5,-.5,-.5+O,.5,-.5,.5-O,.5-o,-.5,-.5+O,.5-o,-.5,.5-O,.5-o,-.5,-.5+O,.5,-.5,.5-O,.5,-.5,-.5+O,-.5+o,-.5,.5-O,-.5,-.5,-.5+O,-.5,-.5,.5-O,-.5,-.5,-.5+O,-.5+o,-.5,.5-O,-.5+o,-.5),N.push(1,0,1-O,1,1,1,1-O,1,1,0,1-O,0,O,0,0,1,O,1,0,1,O,0,0,0,1-O,0,O,o,1-O,o,O,o,1-O,0,O,0,1-O,1-o,O,1,1-O,1,O,1,1-O,1-o,O,1-o)),p===!0?(T.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),N.push(0,0,0,1,1,1,1,1,1,0,0,0)):p===!1||(T.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+B,-.5,-.5,-.5+B,-.5,.5,-.5+B,-.5,.5,-.5,-.5,.5,.5-B,-.5,-.5,.5-B,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-B,-.5,.5,-.5+B,-.5,.5-o,-.5+B,-.5,.5-o,.5-B,-.5,.5-o,.5-B,-.5,.5,.5-B,-.5,.5,-.5+B,-.5,-.5+o,-.5+B,-.5,-.5,-.5+B,-.5,-.5,.5-B,-.5,-.5,.5-B,-.5,-.5+o,.5-B,-.5,-.5+o,-.5+B),N.push(0,0,0,1,B,1,B,1,B,0,0,0,1-B,0,1-B,1,1,1,1,1,1,0,1-B,0,B,0,B,o,1-B,o,1-B,o,1-B,0,B,0,B,1-o,B,1,1-B,1,1-B,1,1-B,1-o,B,1-o)),u===!0?(T.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),N.push(1,0,0,1,1,1,0,1,1,0,0,0)):u===!1||(T.push(.5,.5,-.5,.5,-.5,-.5+B,.5,-.5,-.5,.5,-.5,-.5+B,.5,.5,-.5,.5,.5,-.5+B,.5,.5,.5-B,.5,-.5,.5,.5,-.5,.5-B,.5,-.5,.5,.5,.5,.5-B,.5,.5,.5,.5,.5,-.5+B,.5,.5-o,.5-B,.5,.5-o,-.5+B,.5,.5-o,.5-B,.5,.5,-.5+B,.5,.5,.5-B,.5,-.5+o,-.5+B,.5,-.5,.5-B,.5,-.5,-.5+B,.5,-.5,.5-B,.5,-.5+o,-.5+B,.5,-.5+o,.5-B),N.push(1,0,1-B,1,1,1,1-B,1,1,0,1-B,0,B,0,0,1,B,1,0,1,B,0,0,0,1-B,0,B,o,1-B,o,B,o,1-B,0,B,0,1-B,1-o,B,1,1-B,1,B,1,1-B,1-o,B,1-o)),C===!0?(T.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),N.push(1,1,1,0,0,0,0,0,0,1,1,1)):C===!1||(T.push(.5,.5,.5,.5,.5,-.5,.5-O,.5,-.5,.5-O,.5,-.5,.5-O,.5,.5,.5,.5,.5,-.5+O,.5,.5,-.5+O,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+O,.5,.5,.5-O,.5,.5,.5-O,.5,.5-B,-.5+O,.5,.5-B,-.5+O,.5,.5-B,-.5+O,.5,.5,.5-O,.5,.5,.5-O,.5,-.5+B,.5-O,.5,-.5,-.5+O,.5,-.5,-.5+O,.5,-.5,-.5+O,.5,-.5+B,.5-O,.5,-.5+B),N.push(1,1,1,0,1-O,0,1-O,0,1-O,1,1,1,O,1,O,0,0,0,0,0,0,1,O,1,1-O,1,1-O,1-B,O,1-B,O,1-B,O,1,1-O,1,1-O,B,1-O,0,O,0,O,0,O,B,1-O,B)),z===!0?(T.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),N.push(1,0,0,1,1,1,0,1,1,0,0,0)):z===!1||(T.push(.5,-.5,.5,.5-O,-.5,-.5,.5,-.5,-.5,.5-O,-.5,-.5,.5,-.5,.5,.5-O,-.5,.5,-.5+O,-.5,.5,-.5,-.5,-.5,-.5+O,-.5,-.5,-.5,-.5,-.5,-.5+O,-.5,.5,-.5,-.5,.5,.5-O,-.5,.5,-.5+O,-.5,.5-B,.5-O,-.5,.5-B,-.5+O,-.5,.5-B,.5-O,-.5,.5,-.5+O,-.5,.5,.5-O,-.5,-.5+B,-.5+O,-.5,-.5,.5-O,-.5,-.5,-.5+O,-.5,-.5,.5-O,-.5,-.5+B,-.5+O,-.5,-.5+B),N.push(1,0,1-O,1,1,1,1-O,1,1,0,1-O,0,O,0,0,1,O,1,0,1,O,0,0,0,1-O,0,O,B,1-O,B,O,B,1-O,0,O,0,1-O,1-B,O,1,1-O,1,O,1,1-O,1-B,O,1-B)),{vs:T,uv:N}}}),F(T.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":x,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":i/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),is.forEach(function(Z){var O={};O[Z+E]=!1,O[Z+".toggleable"]=!1,O[Z+".axis"]=b,O[Z+".start"]=0,O[Z+".end"]=i/2,O[Z+h]=0,F(T.Style,O,!0)});var eh=function(){this.$4n=[]};eh.$15n=function(F){var M=new eh;return M.$4n=F,M},eh.prototype={clone:function(){var d=new eh;return d.$4n=this.$4n.map(function(Y){return Y.clone()}),d},$19n:function(){return this.$4n},union:function(V){var u=new Qh(this.clone().$4n),N=new Qh(V.clone().$4n);return u.$3n(N),N.$3n(u),N.$6n(),N.$3n(u),N.$6n(),u.$7n(N.$2n()),eh.$15n(u.$2n())},subtract:function(T){var V=new Qh(this.clone().$4n),E=new Qh(T.clone().$4n);return V.$6n(),V.$3n(E),E.$3n(V),E.$6n(),E.$3n(V),E.$6n(),V.$7n(E.$2n()),V.$6n(),eh.$15n(V.$2n())},intersect:function(X){var p=new Qh(this.clone().$4n),H=new Qh(X.clone().$4n);return p.$6n(),H.$3n(p),H.$6n(),p.$3n(H),H.$3n(p),p.$7n(H.$2n()),p.$6n(),eh.$15n(p.$2n())},inverse:function(){var X=this.clone();return X.$4n.map(function(s){s.flip()}),X}},eh.cube=function(y){y=y||{};var Y=new Ap(y.center||[0,0,0]),z=y.radius?y.radius.length?y.radius:[y.radius,y.radius,y.radius]:[1,1,1];return eh.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(D){return new Sq(D[0].map(function(B){var C=new Ap(Y.x+z[0]*(2*!!(1&B)-1),Y.y+z[1]*(2*!!(2&B)-1),Y.z+z[2]*(2*!!(4&B)-1));return new ur(C,new Ap(D[1]))}))}))},eh.sphere=function(E){function I(e,N){e*=2*i,N*=i;var $=new Ap(z(e)*q(N),z(N),q(e)*q(N));O.push(new ur(L.$20n($.$21n(A)),$))}E=E||{};for(var O,L=new Ap(E.center||[0,0,0]),A=E.radius||1,M=E.slices||16,W=E.stacks||8,Z=[],G=0;M>G;G++)for(var H=0;W>H;H++)O=[],I(G/M,H/W),H>0&&I((G+1)/M,H/W),W-1>H&&I((G+1)/M,(H+1)/W),I(G/M,(H+1)/W),Z.push(new Sq(O));return eh.$15n(Z)},eh.cylinder=function(s){function I(j,h,n){var U=2*h*i,g=V.$21n(z(U)).$20n(d.$21n(q(U))),Z=S.$20n(B.$21n(j)).$20n(g.$21n(v)),I=g.$21n(1-k(n)).$20n(R.$21n(n));return new ur(Z,I)}s=s||{};for(var S=new Ap(s.start||[0,-1,0]),Q=new Ap(s.end||[0,1,0]),B=Q.$13n(S),v=s.radius||1,A=s.slices||16,R=B.$14n(),h=k(R.y)>.5,V=new Ap(h,!h,0).$12n(R).$14n(),d=V.$12n(R).$14n(),t=new ur(S,R.$11n()),r=new ur(Q,R.$14n()),n=[],$=0;A>$;$++){var T=$/A,e=($+1)/A;n.push(new Sq([t,I(0,T,-1),I(0,e,-1)])),n.push(new Sq([I(0,e,0),I(0,T,0),I(1,T,0),I(1,e,0)])),n.push(new Sq([r,I(1,e,1),I(1,T,1)]))}return eh.$15n(n)};var Ap=function(p,c,V){var A=this;3==arguments.length?(A.x=p,A.y=c,A.z=V):"x"in p?(A.x=p.x,A.y=p.y,A.z=p.z):(A.x=p[0],A.y=p[1],A.z=p[2])};Ap.prototype={clone:function(){return new Ap(this.x,this.y,this.z)},$11n:function(){return new Ap(-this.x,-this.y,-this.z)},$20n:function(e){return new Ap(this.x+e.x,this.y+e.y,this.z+e.z)},$13n:function(Y){return new Ap(this.x-Y.x,this.y-Y.y,this.z-Y.z)},$21n:function(T){return new Ap(this.x*T,this.y*T,this.z*T)},$16n:function(B){return new Ap(this.x/B,this.y/B,this.z/B)},$23n:function(C){return this.x*C.x+this.y*C.y+this.z*C.z},lerp:function(C,z){return this.$20n(C.$13n(this).$21n(z))},length:function(){return U(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(m){var x=this;return new Ap(x.y*m.z-x.z*m.y,x.z*m.x-x.x*m.z,x.x*m.y-x.y*m.x)}};var ur=function(E,U,k){var l=this;l.$24n=new Ap(E),l.$22n=new Ap(U),l.uv=k?new Ap(k):null};ur.prototype={clone:function(){var d=this;return new ur(d.$24n.clone(),d.$22n.clone(),d.uv?d.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(O,Q){var Y=this;return new ur(Y.$24n.lerp(O.$24n,Q),Y.$22n.lerp(O.$22n,Q),Y.uv?Y.uv.lerp(O.uv,Q):null)}};var Zc=function(k,Y){this.$22n=k,this.w=Y};Zc.$17n=function(i,o,$){var H=o.$13n(i).$12n($.$13n(i)).$14n();return new Zc(H,H.$23n(i))},Zc.prototype={clone:function(){return new Zc(this.$22n.clone(),this.w)},flip:function(){var z=this;z.$22n=z.$22n.$11n(),z.w=-z.w},$5n:function(e,x,M,E,J){for(var Y=this,X=0,i=1,t=2,b=3,n=0,o=[],K=0;K<e.$9n.length;K++){var j=Y.$22n.$23n(e.$9n[K].$24n)-Y.w,P=-a>j?t:j>a?i:X;n|=P,o.push(P)}switch(n){case X:(Y.$22n.$23n(e.$8n.$22n)>0?x:M).push(e);break;case i:E.push(e);break;case t:J.push(e);break;case b:for(var p=[],$=[],K=0;K<e.$9n.length;K++){var L=(K+1)%e.$9n.length,r=o[K],F=o[L],w=e.$9n[K],Z=e.$9n[L];if(r!=t&&p.push(w),r!=i&&$.push(r!=t?w.clone():w),(r|F)==b){var j=(Y.w-this.$22n.$23n(w.$24n))/Y.$22n.$23n(Z.$24n.$13n(w.$24n)),O=w.$18n(Z,j);p.push(O),$.push(O.clone())}}p.length>=3&&E.push(new Sq(p,e.$10n)),$.length>=3&&J.push(new Sq($,e.$10n))}}};var Sq=function(X,L){var k=this;k.$9n=X,k.$10n=L,k.$8n=Zc.$17n(X[0].$24n,X[1].$24n,X[2].$24n)};Sq.prototype={clone:function(){var H=this.$9n.map(function(W){return W.clone()});return new Sq(H,this.$10n)},flip:function(){this.$9n.reverse().map(function(j){j.flip()}),this.$8n.flip()}};var Qh=function(d){var K=this;K.$8n=null,K.front=null,K.back=null,K.$4n=[],d&&K.$7n(d)};Qh.prototype={clone:function(){var e=this,f=new Qh;return f.$8n=e.$8n&&e.$8n.clone(),f.front=e.front&&e.front.clone(),f.back=e.back&&e.back.clone(),f.$4n=e.$4n.map(function(m){return m.clone()}),f},$6n:function(){for(var q=this,u=0;u<q.$4n.length;u++)q.$4n[u].flip();q.$8n.flip(),q.front&&q.front.$6n(),q.back&&q.back.$6n();var d=q.front;q.front=q.back,q.back=d},$1n:function(B){var H=this;if(!H.$8n)return B.slice();for(var a=[],C=[],d=0;d<B.length;d++)H.$8n.$5n(B[d],a,C,a,C);return H.front&&(a=H.front.$1n(a)),C=H.back?H.back.$1n(C):[],a.concat(C)},$3n:function(Q){var w=this;w.$4n=Q.$1n(w.$4n),w.front&&w.front.$3n(Q),w.back&&w.back.$3n(Q)},$2n:function(){var N=this,X=N.$4n.slice();return N.front&&(X=X.concat(N.front.$2n())),N.back&&(X=X.concat(N.back.$2n())),X},$7n:function(Y){var Z=this;if(Y.length){Z.$8n||(Z.$8n=Y[0].$8n.clone());for(var s=[],U=[],e=0;e<Y.length;e++)this.$8n.$5n(Y[e],Z.$4n,Z.$4n,s,U);s.length&&(Z.front||(Z.front=new Qh),this.front.$7n(s)),U.length&&(Z.back||(Z.back=new Qh),Z.back.$7n(U))}}};var Am="symbol",Lc=T.Symbol=function(w,Z,s){var b=this;u(Lc,b),b.s3(20,20,20),b.s({"all.visible":!1,shape:"rect"}),b.setIcon(w,Z,s)};f("Symbol",J,{setIcon:function(d,c,$){var G,R=this;return Lc.superClass.setIcon.call(R,d),d?(G={for3d:!0,face:"center",position:44,names:[d]},$&&(G.transaprent=!0),c&&(G.autorotate=c),R.addStyleIcon(Am,G)):R.removeStyleIcon(Am),R.setWidth(P.getImageWidth(N.getImage(d),R)||20),G}});var jn=T.CSGNode=function(){u(jn,this),this.s({shape:"rect","attach.thickness":1.001})},Kp={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};f("CSGNode",J,{_22Q:function(){return Cd},onPropertyChanged:function(z){var Z=this,d=Z.getHost();jn.superClass.onPropertyChanged.call(Z,z),Kp[z.property]&&(d instanceof fb||d instanceof jn)&&d.fp("csgNodeChange",!0,!1)}});var Cd=function(R,l){u(Cd,this,[R,l])};X(Cd,n.Node3dUI,{_80o:function(w,O,v){var g=this;g._shape3d?Cd.superClass._80o.call(g,w,O,v):(y(g.gv),ud.forEach(function(b){H(g,w,O,g[b],v)}))},validate:function(l,L){var z=this,P=z.gv,$=z.data;if($.s("shape3d"))return Cd.superClass.validate.call(z,l,L),z._shape3d=!0,void 0;z._shape3d=!1;var C=_($,P.getMat($)),n=l&&l.uv;z.vf2("csg",n);for(var O=0;6>O;O++)for(var e=is[O],X=Mg[O],B=z.vf2(e,n,L),h=B.mat||C,a=B.vs,o=B.uv,q=B.tuv,i=0;2>i;i++){var G=Z[X+3*i],V=Z[X+3*i+1],T=Z[X+3*i+2];if(j(a,h,[A[3*G],A[3*G+1],A[3*G+2]]),j(a,h,[A[3*V],A[3*V+1],A[3*V+2]]),j(a,h,[A[3*T],A[3*T+1],A[3*T+2]]),q)if(o){var N=8*O;q.push(o[2*G-N],o[2*G+1-N],o[2*V-N],o[2*V+1-N],o[2*T-N],o[2*T+1-N])}else q.push(Y[2*G],Y[2*G+1],Y[2*V],Y[2*V+1],Y[2*T],Y[2*T+1])}Xq(z,l,L)},vf2:function(U,d,p){var f,c=this,Z=c.gv.getFaceVisible(c.data,U);return f=Q(c,U,p),f.vs=[],f.tuv=Z&&(f.texture||d)?[]:K,f.visible=Z,f}});var fb=T.CSGShape=function(){var E=this;u(fb,E),E.s({"shape.background":K,"shape.border.width":8}),E.setTall(240),E.setElevation(120),E.setThickness(14)};f("CSGShape",l,{IRotatable:!1,_22Q:function(){return me},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var me=function(C,R){u(me,this,[C,R])};X(me,n.Shape3dUI,{_80o:function(L,W,T){var C=this;C.undrawable||(y(C.gv),ud.forEach(function(O){H(C,L,W,C[O],T)}))},validate:function(N,X){var B=this,x=B.data,k=x.getPoints();if(B.undrawable=k.size()<2)return B.clear(),void 0;var D=x.isClosePath(),u=s(x._thickness/2,a),H=I(k,K,K,D);ud.forEach(function(f){B.vf(f,N&&N.uv,!0,X)}),D&&(B.left.visible=!1,B.right.visible=!1),B._12O(H,u),B._20Q(H),Xq(B,N,X)}});var _l=T.DoorWindow=function(){var Z=this;u(_l,Z),Z.setElevation(100),Z.s3(100,200,14)};f("DoorWindow",jn,{IDoorWindow:!0,toggle:function(n){this.setExpanded(!this.s(w),n)},isExpanded:function(){return this.s(w)},setExpanded:function(I,H){var N,u=this,W=u.$25n,U=u.getDataModel(),y=u.s(w);if(U&&(N=U.getHistoryManager()),W&&(W.stop(!0),delete u.$25n),y!==I){N&&N.beginInteraction();var J=I?u.s("dw.end"):u.s("dw.start");u.s(w,I),H=C(H),H?(y=u.s(B),H.action=function(w){u.s(B,y+(J-y)*w)},H.finishFunc=function(){N&&N.endInteraction()},u.$25n=r(H)):(u.s(B,J),N&&N.endInteraction())}},getMat:function(){var s=this,u=s.s("dw.s3"),z=s.s("dw.t3"),n=s.s("dw.flip"),r=s.s(B);if(u||r||z||n){var f=[];if(n&&f.push({r3:[0,i,0]}),u&&f.push({s3:u}),r){u=s.s3();var S=s.s("dw.axis"),j=u[0]/2,X=u[1]/2;u[2]/2,S===b?f.push({t3:[j,0,0]},{r3:[0,-r,0]},{t3:[-j,0,0]}):S===d?f.push({t3:[-j,0,0]},{r3:[0,r,0]},{t3:[j,0,0]}):S===G?f.push({t3:[0,-X,0]},{r3:[-r,0,0]},{t3:[0,X,0]}):S===o?f.push({t3:[0,X,0]},{r3:[r,0,0]},{t3:[0,-X,0]}):S===c?f.push({r3:[0,r,0]}):S===m&&f.push({r3:[r,0,0]})}return z&&f.push({t3:z}),O(f)}return K}});var up=T.CSGBox=function(){var J=this;u(up,J),J.setElevation(100),J.s3(100,200,100)};f("CSGBox",jn,{ICSGBox:!0,toggleFace:function(A,y){this.setFaceExpanded(A,!this.s(A+E),y)},isFaceExpanded:function(b){return this.s(b+E)},setFaceExpanded:function(Y,k,T){var b=this,e=b.$25n,X=b.s(Y+E);if(e&&(e.stop(!0),delete b.$25n),X!==k){var s=k?b.s(Y+".end"):b.s(Y+".start");b.s(Y+E,k),T=C(T),T?(X=b.s(Y+h),T.action=function(R){b.s(Y+h,X+(s-X)*R)},b.$25n=r(T)):b.s(Y+h,s)}},getFaceMat:function(q){var a=this,_=a.s(q+h);if(!_)return K;var T=a.s(q+".axis"),u=a.s3(),W=u[0]/2,k=u[1]/2,P=u[2]/2,i=[];return q===R&&(T===b?i.push({t3:[W,0,-P]},{r3:[0,-_,0]},{t3:[-W,0,P]}):T===d?i.push({t3:[-W,0,-P]},{r3:[0,_,0]},{t3:[W,0,P]}):T===G?i.push({t3:[0,-k,-P]},{r3:[-_,0,0]},{t3:[0,k,P]}):T===o?i.push({t3:[0,k,-P]},{r3:[_,0,0]},{t3:[0,-k,P]}):T===c?i.push({t3:[0,0,-P]},{r3:[0,_,0]},{t3:[0,0,P]}):T===m&&i.push({t3:[0,0,-P]},{r3:[_,0,0]},{t3:[0,0,P]})),q===p&&(T===b?i.push({t3:[-W,0,P]},{r3:[0,-_,0]},{t3:[W,0,-P]}):T===d?i.push({t3:[W,0,P]},{r3:[0,_,0]},{t3:[-W,0,-P]}):T===G?i.push({t3:[0,-k,P]},{r3:[_,0,0]},{t3:[0,k,-P]}):T===o?i.push({t3:[0,k,P]},{r3:[-_,0,0]},{t3:[0,-k,-P]}):T===c?i.push({t3:[0,0,P]},{r3:[0,_,0]},{t3:[0,0,-P]}):T===m&&i.push({t3:[0,0,P]},{r3:[_,0,0]},{t3:[0,0,-P]})),q===b&&(T===b?i.push({t3:[W,0,P]},{r3:[0,-_,0]},{t3:[-W,0,-P]}):T===d?i.push({t3:[W,0,-P]},{r3:[0,_,0]},{t3:[-W,0,P]}):T===G?i.push({t3:[W,-k,0]},{r3:[0,0,-_]},{t3:[-W,k,0]}):T===o?i.push({t3:[W,k,0]},{r3:[0,0,_]},{t3:[-W,-k,0]}):T===c?i.push({t3:[W,0,0]},{r3:[0,_,0]},{t3:[-W,0,0]}):T===m&&i.push({t3:[W,0,0]},{r3:[0,0,_]},{t3:[-W,0,0]})),q===d&&(T===b?i.push({t3:[-W,0,-P]},{r3:[0,-_,0]},{t3:[W,0,P]}):T===d?i.push({t3:[-W,0,P]},{r3:[0,_,0]},{t3:[W,0,-P]}):T===G?i.push({t3:[-W,-k,0]},{r3:[0,0,_]},{t3:[W,k,0]}):T===o?i.push({t3:[-W,k,0]},{r3:[0,0,-_]},{t3:[W,-k,0]}):T===c?i.push({t3:[-W,0,0]},{r3:[0,_,0]},{t3:[W,0,0]}):T===m&&i.push({t3:[-W,0,0]},{r3:[0,0,_]},{t3:[W,0,0]})),q===G&&(T===b?i.push({t3:[W,-k,0]},{r3:[0,0,_]},{t3:[-W,k,0]}):T===d?i.push({t3:[-W,-k,0]},{r3:[0,0,-_]},{t3:[W,k,0]}):T===G?i.push({t3:[0,-k,P]},{r3:[-_,0,0]},{t3:[0,k,-P]}):T===o?i.push({t3:[0,-k,-P]},{r3:[_,0,0]},{t3:[0,k,P]}):T===c?i.push({t3:[0,-k,0]},{r3:[0,0,_]},{t3:[0,k,0]}):T===m&&i.push({t3:[0,-k,0]},{r3:[_,0,0]},{t3:[0,k,0]})),q===o&&(T===b?i.push({t3:[W,k,0]},{r3:[0,0,-_]},{t3:[-W,-k,0]}):T===d?i.push({t3:[-W,k,0]},{r3:[0,0,_]},{t3:[W,-k,0]}):T===G?i.push({t3:[0,k,-P]},{r3:[-_,0,0]},{t3:[0,-k,P]}):T===o?i.push({t3:[0,k,P]},{r3:[_,0,0]},{t3:[0,-k,-P]}):T===c?i.push({t3:[0,k,0]},{r3:[0,0,_]},{t3:[0,-k,0]}):T===m&&i.push({t3:[0,k,0]},{r3:[_,0,0]},{t3:[0,-k,0]})),O(i)}})}(this,Object);